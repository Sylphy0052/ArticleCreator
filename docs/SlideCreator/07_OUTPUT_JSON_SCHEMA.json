{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "NotebookLM Slide Prompt JSON",
  "type": "object",
  "required": ["prompt_version", "generation_rules", "deck"],
  "properties": {
    "prompt_version": { "type": "string", "const": "notebooklm_slide_prompt_json/1.0" },
    "generation_rules": {
      "type": "object",
      "required": ["one_message_per_slide", "bullets_max", "key_messages_max", "sources_policy", "tone_and_style"],
      "properties": {
        "one_message_per_slide": { "type": "boolean", "const": true },
        "bullets_max": { "type": "integer", "const": 3 },
        "key_messages_max": { "type": "integer", "const": 3 },
        "sources_policy": { "type": "string", "const": "list_urls_or_source_names_only" },
        "tone_and_style": { "type": "object" }
      },
      "additionalProperties": true
    },
    "deck": {
      "type": "object",
      "required": ["title", "audience", "format", "language", "slide_count_range", "slides"],
      "properties": {
        "title": { "type": "string" },
        "audience": { "type": "string" },
        "format": { "type": "string", "enum": ["presenter_slides", "detailed_deck"] },
        "language": { "type": "string", "minLength": 2 },
        "slide_count_range": {
          "type": "object",
          "required": ["min", "max"],
          "properties": {
            "min": { "type": "integer", "minimum": 1 },
            "max": { "type": "integer", "minimum": 1 },
            "target": { "type": "integer", "minimum": 1 }
          },
          "additionalProperties": false
        },
        "slides": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": [
              "no",
              "title",
              "objective",
              "key_messages",
              "on_slide_bullets",
              "layout_template",
              "visual",
              "speaker_notes",
              "sources"
            ],
            "properties": {
              "no": { "type": "integer", "minimum": 1 },
              "title": { "type": "string" },
              "objective": { "type": "string" },
              "key_messages": { "type": "array", "maxItems": 3, "items": { "type": "string" } },
              "on_slide_bullets": { "type": "array", "maxItems": 3, "items": { "type": "string" } },
              "layout_template": { "type": "string" },
              "visual": {
                "type": "object",
                "required": ["idea", "image_prompt"],
                "properties": {
                  "idea": { "type": "string" },
                  "image_prompt": { "type": "string" }
                },
                "additionalProperties": true
              },
              "speaker_notes": { "type": "string", "minLength": 1 },
              "sources": { "type": "array", "items": { "type": "string" } }
            },
            "additionalProperties": true
          }
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": true
}
